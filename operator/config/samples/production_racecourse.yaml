apiVersion: racecourse.kaleido.io/v1alpha1
kind: Racecourse
metadata:
  name: prod-racecourse
  namespace: sidechain
spec:
  image:
    repository: racecourse
    tag: "1.0.0"
    pullPolicy: Always
  replicas: 3
  walletService:
    name: firefly-signer
    namespace: blockchain
    port: 8545
  contractAddress: "0xabcdefabcdefabcdefabcdefabcdefabcdefabcd"
  ingress:
    enabled: true
    className: nginx
    host: racecourse.example.com
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
      nginx.ingress.kubernetes.io/rate-limit: "100"
      nginx.ingress.kubernetes.io/ssl-redirect: "true"
  resources:
    limits:
      cpu: "2"
      memory: "1Gi"
    requests:
      cpu: "500m"
      memory: "512Mi"

